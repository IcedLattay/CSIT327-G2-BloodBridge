{% load static %}

<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Blood Bridge</title>
  <link rel="stylesheet" href="{% static 'css/styles.css' %}">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
</head>

<body>

  <header class="navbar">
    <div class="logo">
      <img src="{% static 'images/logo.png' %}" alt="logo">
      <!-- add media folder -->
      <h1>Blood Bridge.</h1>

      <nav class="nav-links">
        <a href="#" class="active">Home</a>
        <a href="#">About us</a>
      </nav>
    </div>

    <div class="buttons">
      <button class="btn-login" id="openLogin">Log in</button>
      <button class="btn-signup" id="openSignup">Sign up</button>
    </div>
  </header>

  <section class="hero">
    <h1>Welcome to Blood Bridge</h1>
    <p>
      Blood Bridge is a backend-focused web application that streamlines blood donation processes across the
      Philippines.
      It connects voluntary donors with hospitals and patients in urgent need of blood,
      starting with Cebu City as the pilot area.
    </p>
  </section>

  <!-- Signup Modal -->
  <div class="modal" id="signupModal">
    <div class="modal-content">
      <span class="close" id="closeSignup">&times;</span>
      <h2>Sign up</h2>
      <form method="post" action="{% url 'register' %}" novalidate>
        {% csrf_token %}

        <!-- Email Field -->
        <div class="input-group">
          <div class="input-field">
            <svg class="icon" xmlns="http://www.w3.org/2000/svg" id="Outline" viewBox="0 0 24 24">
              <path
                d="M19,1H5A5.006,5.006,0,0,0,0,6V18a5.006,5.006,0,0,0,5,5H19a5.006,5.006,0,0,0,5-5V6A5.006,5.006,0,0,0,19,1ZM5,3H19a3,3,0,0,1,2.78,1.887l-7.658,7.659a3.007,3.007,0,0,1-4.244,0L2.22,4.887A3,3,0,0,1,5,3ZM19,21H5a3,3,0,0,1-3-3V7.5L8.464,13.96a5.007,5.007,0,0,0,7.072,0L22,7.5V18A3,3,0,0,1,19,21Z" />
            </svg>
            <input type="email" name="username" placeholder="email"
              value="{{ registration_form.username.value|default:'' }}">
          </div>
          {% if registration_form.username.errors %}
          <p class="custom-error">{{ registration_form.username.errors.0 }}</p>
          {% endif %}
        </div>

        <!-- Password Field -->
        <div class="input-group">
          <div class="input-field">
            <svg class="icon" xmlns="http://www.w3.org/2000/svg" id="Outline" viewBox="0 0 24 24">
              <path
                d="M19,8.424V7A7,7,0,0,0,5,7V8.424A5,5,0,0,0,2,13v6a5.006,5.006,0,0,0,5,5H17a5.006,5.006,0,0,0,5-5V13A5,5,0,0,0,19,8.424ZM7,7A5,5,0,0,1,17,7V8H7ZM20,19a3,3,0,0,1-3,3H7a3,3,0,0,1-3-3V13a3,3,0,0,1,3-3H17a3,3,0,0,1,3,3Z" />
              <path d="M12,14a1,1,0,0,0-1,1v2a1,1,0,0,0,2,0V15A1,1,0,0,0,12,14Z" />
            </svg>
            <input type="password" name="password1" placeholder="password" id="password">
            <i class="bi bi-eye toggle" data-target="password"></i>
          </div>
          {% if registration_form.password1.errors %}
          <p class="custom-error">{{ registration_form.password1.errors.0 }}</p>
          {% endif %}
        </div>

        <!-- Confirm Password Field -->
        <div class="input-group">
          <div class="input-field">
            <svg class="icon" xmlns="http://www.w3.org/2000/svg" id="Outline" viewBox="0 0 24 24">
              <path
                d="M19,8.424V7A7,7,0,0,0,5,7V8.424A5,5,0,0,0,2,13v6a5.006,5.006,0,0,0,5,5H17a5.006,5.006,0,0,0,5-5V13A5,5,0,0,0,19,8.424ZM7,7A5,5,0,0,1,17,7V8H7ZM20,19a3,3,0,0,1-3,3H7a3,3,0,0,1-3-3V13a3,3,0,0,1,3-3H17a3,3,0,0,1,3,3Z" />
              <path d="M12,14a1,1,0,0,0-1,1v2a1,1,0,0,0,2,0V15A1,1,0,0,0,12,14Z" />
            </svg>
            <input type="password" name="password2" placeholder="confirm password" id="confirmPassword">
            <i class="bi bi-eye toggle" data-target="confirmPassword"></i>
          </div>
          {% if registration_form.password2.errors %}
          <p class="custom-error">{{ registration_form.password2.errors.0 }}</p>
          {% endif %}
          {% if registration_form.non_field_errors %}
          <p class="non-field-error">{{ registration_form.non_field_errors.0 }}</p>
          {% endif %}
        </div>

        <!-- User Role Selection Field -->
        <div class="role-selection-group">
          <p>Choose your account type</p>
          <div class="role-selection">
            <input type="hidden" name="role" id="selectedRole">
            <div class="btn-role" id="selectUser">
              <svg class="icon" xmlns="http://www.w3.org/2000/svg" id="user-icon" data-name="Layer 1" viewBox="0 0 24 24">
                <path d="M9.5,2.5c0-1.381,1.119-2.5,2.5-2.5s2.5,1.119,2.5,2.5-1.119,2.5-2.5,2.5-2.5-1.119-2.5-2.5Zm7.5,7.5v3c0,1.474-.81,2.75-2,3.444v6.556c0,.552-.447,1-1,1s-1-.448-1-1v-6h-2v6c0,.552-.447,1-1,1s-1-.448-1-1v-6.556c-1.19-.694-2-1.97-2-3.444v-3c0-2.206,1.794-4,4-4h2c2.206,0,4,1.794,4,4Z"/>
              </svg>
              <p>User</p>
            </div>
            <div class="btn-role" id="selectHospital">
              <svg class="icon" id="hospital-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" data-name="Layer 1">
                <path d="m15.5 10c0 .551-.448 1-1 1h-1.5v1.5c0 .552-.449 1-1 1s-1-.448-1-1v-1.5h-1.5c-.551 0-1-.449-1-1s.449-1 1-1h1.5v-1.5c0-.551.449-1 1-1s1 .449 1 1v1.5h1.5c.552 0 1 .449 1 1zm6.554.054c0 2.537-1.934 6.49-5.747 11.751-.984 1.373-2.586 2.195-4.281 2.195-1.663.06-3.319-.781-4.341-2.204-3.808-5.254-5.741-9.206-5.741-11.742-.111-5.404 4.651-10.166 10.055-10.054 5.543 0 10.054 4.511 10.055 10.054zm-4.554-.054c0-1.497-1.102-2.74-2.536-2.964-.224-1.435-1.468-2.536-2.964-2.536s-2.74 1.101-2.964 2.536c-1.435.224-2.536 1.468-2.536 2.964s1.101 2.74 2.536 2.964c.224 1.434 1.468 2.536 2.964 2.536s2.74-1.102 2.964-2.536c1.435-.224 2.536-1.468 2.536-2.964z"/>
              </svg>
              <p>Hospital</p>
            </div> 
          </div>
          <div class="role-desc">
            <p class="desc" id="desc-one"></p>
            <p class="desc" id="desc-two"></p>
          </div>
          
        </div>

        <button type="submit" class="submit-btn">Sign up</button>
      </form>
    </div>
  </div>

  <!-- Login Modal -->
  <div class="modal" id="loginModal">
    <div class="modal-content">
      <span class="close" id="closeLogin">&times;</span>
      <h2>Log in</h2>
      <form method="post" action="{% url 'login' %}" novalidate>
        {% csrf_token %}

        <!-- Email Field -->
        <div class="input-group">
          <div class="input-field">
            <svg class="icon" xmlns="http://www.w3.org/2000/svg" id="Outline" viewBox="0 0 24 24">
              <path
                d="M19,1H5A5.006,5.006,0,0,0,0,6V18a5.006,5.006,0,0,0,5,5H19a5.006,5.006,0,0,0,5-5V6A5.006,5.006,0,0,0,19,1ZM5,3H19a3,3,0,0,1,2.78,1.887l-7.658,7.659a3.007,3.007,0,0,1-4.244,0L2.22,4.887A3,3,0,0,1,5,3ZM19,21H5a3,3,0,0,1-3-3V7.5L8.464,13.96a5.007,5.007,0,0,0,7.072,0L22,7.5V18A3,3,0,0,1,19,21Z" />
            </svg>
            <input type="email" name="username" placeholder="email" value="{{ login_form.username.value|default:'' }}">
          </div>
          {% if login_form.username.errors %}
          <p class="custom-error">{{ login_form.username.errors.0 }}</p>
          {% endif %}

        </div>

        <!-- Password Field -->
        <div class="input-group">
          <div class="input-field">
            <svg class="icon" xmlns="http://www.w3.org/2000/svg" id="Outline" viewBox="0 0 24 24">
              <path
                d="M19,8.424V7A7,7,0,0,0,5,7V8.424A5,5,0,0,0,2,13v6a5.006,5.006,0,0,0,5,5H17a5.006,5.006,0,0,0,5-5V13A5,5,0,0,0,19,8.424ZM7,7A5,5,0,0,1,17,7V8H7ZM20,19a3,3,0,0,1-3,3H7a3,3,0,0,1-3-3V13a3,3,0,0,1,3-3H17a3,3,0,0,1,3,3Z" />
              <path d="M12,14a1,1,0,0,0-1,1v2a1,1,0,0,0,2,0V15A1,1,0,0,0,12,14Z" />
            </svg>
            <input type="password" name="password" placeholder="password" id="loginPassword">
            <i class="bi bi-eye toggle" data-target="loginPassword"></i>
          </div>
          {% if login_form.password.errors %}
          <p class="custom-error">{{ login_form.password.errors.0 }}</p>
          {% endif %}
          {% if login_form.non_field_errors %}
          <p class="non-field-error">{{ login_form.non_field_errors.0 }}</p>
          {% endif %}
        </div>

         
        <button type="submit" class="submit-btn">Log in</button>

        <!-- Forgot Password Link -->
        <p class="forgot-password"><a href="#">Forgot Password?</a></p>
      </form>
    </div>
  </div>

  <input type="hidden" id="openModalHint" value="{{ open_modal }}">

  <!-- Registration Successful -->
  {% if registration_success %}
  <div class="overlay" id="successOverlay">
    <div class="success-container">
      <span class="close-btn" id="closeSuccess">&times;</span>
      <svg class="checkmark" xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 24 24">
        <path d="m16.298,8.288l1.404,1.425-5.793,5.707c-.387.387-.896.58-1.407.58s-1.025-.195-1.416-.585l-2.782-2.696,1.393-1.437,2.793,2.707,5.809-5.701Zm7.702,3.712c0,6.617-5.383,12-12,12S0,18.617,0,12,5.383,0,12,0s12,5.383,12,12Zm-2,0c0-5.514-4.486-10-10-10S2,6.486,2,12s4.486,10,10,10,10-4.486,10-10Z"/>
      </svg>

      <h2>Registration Successful!</h2>
      <p>You can now log in to your account.</p>

      <a href="#" class="btn-primary" id="goToLogin">Go to Login</a>
    </div>
  </div>
  {% endif %}



  <script src="{% static 'js/script.js' %}"></script>
</body>

</html>